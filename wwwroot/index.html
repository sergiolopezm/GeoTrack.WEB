<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>GeoTrack</title>
    <base href="/" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png" />

    <!-- Bootstrap & Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- Chart.js para grÃ¡ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Estilos personalizados -->
    <link href="css/app.css" rel="stylesheet" />

    <!-- Blazor WebAssembly -->
    <link href="GeoTrack.WEB.styles.css" rel="stylesheet" />

    <script>
        window.onError = function (message, source, lineno, colno, error) {
            console.error('Error: ', error);
            document.getElementById('error-details').innerText =
                `Error: ${message}\nEn: ${source}:${lineno}:${colno}\n${error ? error.stack : ''}`;
            document.getElementById('custom-error-ui').style.display = 'block';
            return true;
        };
        window.addEventListener('error', window.onError);
    </script>

    <div id="custom-error-ui" style="display:none; position: fixed; bottom: 0; left: 0; right: 0; background-color: #f8d7da; color: #721c24; padding: 10px; text-align: center; z-index: 1000; max-height: 200px; overflow: auto;">
        <pre id="error-details" style="text-align: left; margin: 0;"></pre>
        <button onclick="this.parentNode.style.display='none'" style="position: absolute; right: 10px; top: 10px; background: none; border: none; font-weight: bold; cursor: pointer;">X</button>
    </div>
</head>

<body>
    <div id="app">
        <div class="loading-app">
            <div class="loading-content">
                <img src="images/logo.png" alt="GeoTrack Logo" class="loading-logo" />
                <h2 class="mt-3 mb-4">GeoTrack</h2>
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Cargando...</span>
                </div>
                <p class="mt-3">Iniciando aplicaciÃ³n...</p>
            </div>
        </div>
    </div>

    <div id="blazor-error-ui">
        Se ha producido un error no controlado.
        <a href="" class="reload">Recargar</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <!-- Scripts de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Blazor WebAssembly -->
    <script src="_framework/blazor.webassembly.js"></script>

    <!-- Nuestros scripts personalizados -->
    <script src="js/chartConfig.js"></script>
</body>

</html>